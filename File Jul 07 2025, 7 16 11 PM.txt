ğŸ§ª Simulation Agent Design â€“ cncpick2

This document outlines the structure, purpose, and behavior of the simulation agent responsible for mimicking real-world hardware events.

â¸»

ğŸ¯ Purpose
	â€¢	Replace real cameras, CNCs, and sensors with controlled virtual equivalents
	â€¢	Provide synthetic data to downstream agents
	â€¢	Enable safe and repeatable testing for development and CI

â¸»

ğŸ—ï¸ Responsibilities
	1.	Object Spawning
	â€¢	Emit object_spawned events at controlled intervals
	â€¢	Vary object class, position, and size (lane-spaced or randomized)
	2.	Mock RGB + Depth Feeds
	â€¢	Simulate camera streams to vision_agent
	â€¢	Optionally feed pre-recorded frames or synthetic images
	3.	Trigger Zone Simulation
	â€¢	Simulates downstream object presence for trigger_agent
	â€¢	Emulates motion across conveyor and zone entry
	4.	GRBL Driver Emulation
	â€¢	grbl_driver_agent mirrors GRBL command responses
	â€¢	Simulates move times, G-code acknowledgment, and vacuum toggling

â¸»

ğŸ“¦ Output Messages
	â€¢	object_spawned â†’ to vision_agent
	â€¢	pickup_ready â†’ to trigger_agent
	â€¢	motion_acknowledged â†’ to motion_agent (via driver)

â¸»

âš™ï¸ Configurable Inputs

scenario:
  object_types: [green_circuit, blue_clip]
  lanes: 4
  drop_interval_ms: 1500
  size_noise: true
  use_depth: true


â¸»

ğŸ§ª Test Harness Integration
	â€¢	Hooks into sanity test suite
	â€¢	Scenario builder outputs mock sequences
	â€¢	Agent logs events for timeline replay

â¸»

ğŸ“Œ Summary

The simulation agent allows full-stack verification of cncpick2 workflows before any physical hardware is present. It ensures the vision, trigger, scoring, and motion logic can operate end-to-end under controlled conditions.