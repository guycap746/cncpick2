ğŸ¯ Scenario File Format â€“ cncpick2

This document defines the JSON structure used to drive synthetic test cases in simulation mode via simulator_agent.

â¸»

ğŸ§  Purpose
	â€¢	Describe a predefined sequence of objects to simulate
	â€¢	Control timing, lane placement, and object types
	â€¢	Enable repeatable testing of specific logic paths

â¸»

ğŸ“„ File Example: tests/scenarios/sanity_test.json

{
  "scenario_name": "Sanity Test",
  "description": "One object per lane, staggered by 0.5s",
  "spawn_sequence": [
    {"time": 0.0, "lane": 0, "type": "green", "area": 1400},
    {"time": 0.5, "lane": 1, "type": "green", "area": 1350},
    {"time": 1.0, "lane": 2, "type": "green", "area": 1600},
    {"time": 1.5, "lane": 3, "type": "green", "area": 1500}
  ]
}


â¸»

ğŸ§¾ Field Definitions
	â€¢	time: float (seconds from test start)
	â€¢	lane: integer (0â€“3)
	â€¢	type: object class label (e.g., â€œgreenâ€, â€œscrapâ€, â€œtargetâ€)
	â€¢	area: estimated pixel area (used to match detection)
	â€¢	Optional fields: id, depth_mm, height_mm for advanced tests

â¸»

ğŸ“¦ Directory Structure

/tests/
  â””â”€â”€ scenarios/
      â”œâ”€â”€ sanity_test.json
      â”œâ”€â”€ edge_case_overlap.json
      â””â”€â”€ missed_pickup_window.json


â¸»

ğŸ”„ Usage
	â€¢	Loaded by simulator_agent during system startup
	â€¢	Used to drive object spawns in headless mode
	â€¢	Can be linked to assert hooks in test_runner.py

â¸»

ğŸ§ª Best Practices
	â€¢	Use evenly spaced timings for easy testing
	â€¢	Avoid placing multiple objects on same lane within same second (unless stress testing)
	â€¢	Validate lane IDs against vision camera field of view

â¸»

ğŸ“Œ Summary

Scenario files are structured JSON documents that make the simulator deterministic and testable. They ensure repeatability and simplify agent debugging by controlling synthetic object flows.