ğŸš¦ Agent Profile: trigger_agent â€“ cncpick2

This document defines the role, messaging, and lane-specific behavior of the trigger_agent, which detects when an assigned object reaches the pickup zone.

â¸»

ğŸ§  Agent Overview
	â€¢	Monitors visual input at a single lane pickup zone
	â€¢	Waits for request from motion agent to monitor for a specific object
	â€¢	Detects object arrival (based on lane + area + timing)
	â€¢	Notifies motion agent when object is under pickup position

Example Name:

trigger_agent_2  (for Lane 2)


â¸»

ğŸ“‚ Responsibilities
	1.	Wait for monitor_object request from motion_agent
	2.	Begin checking for object match at its pickup zone
	3.	Confirm match on visual trigger (e.g., via bounding box)
	4.	Publish object_ready_for_pickup

â¸»

ğŸ“¥ Subscribed Commands

monitor_object

{
  "type": "monitor_object",
  "payload": {
    "object_id": "uuid",
    "lane": 2,
    "area_px": 3112
  }
}


â¸»

ğŸ“¤ Published Events

object_ready_for_pickup

{
  "event": "object_ready_for_pickup",
  "payload": {
    "object_id": "uuid"
  }
}


â¸»

ğŸ¯ Matching Logic
	â€¢	Trigger agent uses visual input (e.g. cropped RGB)
	â€¢	Looks for YOLO box matching:
	â€¢	Correct lane
	â€¢	Approximate area match
	â€¢	May have lane-specific tolerance margin (Â±10%)
	â€¢	Optionally checks depth alignment in future

â¸»

âš™ï¸ Configuration

trigger_agent_2:
  lane: 2
  match_tolerance: 0.1
  camera_input: "pickup_cam_2"


â¸»

ğŸ§ª Sanity Test Expectation
	â€¢	For each object_assigned, there must be a corresponding object_ready_for_pickup
	â€¢	Agent must only trigger on request

â¸»

ğŸ” Lifecycle Summary
	1.	Idle until monitor_object
	2.	Active scan using pickup-zone camera
	3.	Match found â†’ send event to motion agent
	4.	Reset and return to idle

â¸»

ğŸ“Œ Summary
	â€¢	Each trigger agent monitors one pickup zone
	â€¢	Bridges timing gap between detection and actual pickup
	â€¢	Provides essential synchronization for physical motion