ğŸ“Š Future Agent Profile: metrics_agent â€“ cncpick2

This document defines a future metrics aggregation agent that will provide real-time and long-term performance statistics for the cncpick2 system.

â¸»

ğŸ§  Agent Overview
	â€¢	Gathers structured performance metrics across the system
	â€¢	Computes KPIs: throughput, pickup accuracy, object wait time, assignment latency
	â€¢	Exposes metrics in a format compatible with dashboards or Prometheus

â¸»

ğŸ“‚ Responsibilities
	1.	Aggregate events from all system agents
	2.	Maintain real-time counters and moving averages
	3.	Periodically publish metrics to disk or HTTP endpoint

â¸»

ğŸ“¥ Subscribed Events
	â€¢	object_spawned
	â€¢	object_detected
	â€¢	object_assigned
	â€¢	object_picked
	â€¢	object_dropped
	â€¢	object_missed

â¸»

ğŸ“¤ Published Stats

Example Metric Frame (JSON or Prometheus text format)

{
  "timestamp": "...",
  "throughput_per_minute": 24,
  "pickup_success_rate": 0.96,
  "avg_time_to_pickup": 3.42,
  "missed_pickups": 1
}


â¸»

ğŸ“ˆ KPIs Tracked
	â€¢	Total objects seen vs. picked
	â€¢	Avg time from spawn â†’ detect â†’ assign â†’ pickup
	â€¢	Lane-based breakdowns
	â€¢	Rolling error rate per agent

â¸»

âš™ï¸ Configuration Fields

metrics_agent:
  publish_interval_sec: 10
  output_format: "json"
  expose_http: true
  http_port: 9001


â¸»

ğŸ”Œ Integration Options
	â€¢	Can write to:
	â€¢	metrics/metrics_YYYYMMDD.json
	â€¢	Web UI (for dashboard)
	â€¢	Prometheus exporter (future)

â¸»

ğŸ“Œ Summary
	â€¢	Produces performance insights in real time
	â€¢	Optional but valuable for optimization
	â€¢	Bridges system behavior with observability dashboards